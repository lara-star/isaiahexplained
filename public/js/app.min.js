function findBootstrapEnvironment(){var e=["xs","sm","md","lg"],t=$("<div>");t.appendTo($("body"));for(var i=e.length-1;i>=0;i--){var a=e[i];if(t.addClass("hidden-"+a),t.is(":hidden"))return t.remove(),a}}var is_citation=!1,is_searched=!1,is_kjv_reference=!1,citationSpan,iitDiv,kjvDiv;(location.hash||location.pathname.match(/\/\d{1,2}/))&&(window.scrollTo(0,0),setTimeout(function(){var e,t=findBootstrapEnvironment();e="xs"==t?$(".header-container").first().height():$(".heading-chapters:visible").height(),is_citation===!1&&0==is_searched?is_kjv_reference===!0?$(window).scrollTop(kjvDiv.offset().top-e):window.scrollTo(0,0):is_citation===!0?$(window).scrollTop(citationSpan.offset().top-e):is_searched===!0&&$(window).scrollTop(iitDiv.offset().top-e)},1)),function(e,t){t(function(){function e(e){var a=t("#chapter-number").html(),n=t("#iit_"+e).html(),r=t("#heb_"+e).html(),o=t(".commentary_"+e).html(),s=t("#kjv_"+e).html();40==a&&41.7==e?(n='<p><span class="poetry"><span><sup>c</sup> The artisan encourages the smith,<span class="indent">and he who beats with a hammer</span><span class="indent"><i>urges</i> him who pounds the anvil.</span>They say of the welding, It is good,<span class="indent">though they fasten it with riveting </span><span class="indent">that it may not come loose.</span></span></span></p>',r="וַיְחַזֵּק חָרָשׁ אֶת־צֹרֵף מַחֲלִיק פַּטִּישׁ אֶת־הוֹלֶם פָּעַם אֹמֵר לַדֶּבֶק טוֹב הוּא וַיְחַזְּקֵהוּ בְמַסְמְרִים לֹא יִמּוֹט ׃",o="<p>(40:18–19; 41:7*; 40:20) Almost the first thing the nations do on the earth is to corrupt themselves, diverting their attention from the true God to images and idols. Isaiah’s satire on idolaters in this passage shows the futility of creating substitutes for humanity’s Creator. As these false gods are the antithesis of the true God, they are the main reason people become spiritually blind and lose understanding of him (Isaiah 27:9–11; 44:9–20). Such gods can’t save them in Jehovah’s Day of Judgment (Isaiah 45:20; 46:1–8). If the nations themselves are but chaos (vv 15–17), then how much more so the images and idols they invent?</p>",s="So the carpenter encouraged the goldsmith, and he that smootheth with the hammer him that smote the anvil, saying, It is ready for the sodering: and he fastened it with nails, that it should not be moved."):41==a&&7==e?o="<p>See: 40:19 Verse appears out of sequence in text.</p>":(n=n.replace(/<a\b[^>]*>(\w+)<\/a>/gi,"$1"),n=n.replace(/<a\b[^>]*>(\D)<\/a>\s?/gi,"$1"),n=n.replace(/<a\b[^>]*>\d{1,2}<\/a>\s?/gi,""),n=n.replace(/<div class="spacer"><\/div>/gi,'<span class="spacer"></span>'),n=n.replace(/<div class="prose-spacer"><\/div>/gi,'<span class="prose-spacer"></span>'),n="<p>"+n+"</p>"),t("#kjv-modal-verse").html(s),t("#iit-modal-verse").html(n),t("#heb-modal-verse").html(r);var l=t("#commentary-modal-verse");l.html(o);var h=l.children("div").html();l.children().next("p").first().prepend(h+" ");var d="";d=40==a&&41.7==e?"Isaiah "+e:"Isaiah "+a+":"+e,t("#verse-modal-label").html(d),i(parseFloat(e))}function i(e){window.chapter_verse_order=t("#chapter-verse-order").text().split(","),window.verse_index=chapter_verse_order.indexOf(e.toString());var i=t("#nav-links-light-verse-left"),a=e-1;i.disable(a>=chapter_verse_order[0]?!1:!0);var n=t("#nav-links-light-verse-right");n.disable(verse_index!=chapter_verse_order.length-1?!1:!0)}function a(e){var i=t("#nav-left-top.fa-angle-left");"undefined"!=typeof i.attr("href")&&i.attr("href",i.attr("href").split("#")[0]+e);var a=t("#nav-left-bottom.fa-angle-left");"undefined"!=typeof a.attr("href")&&a.attr("href",a.attr("href").split("#")[0]+e);var n=t("#nav-right-top.fa-angle-right");"undefined"!=typeof n.attr("href")&&n.attr("href",n.attr("href").split("#")[0]+e);var r=t("#nav-right-bottom.fa-angle-right");"undefined"!=typeof r.attr("href")&&r.attr("href",n.attr("href").split("#")[0]+e);var o=t(".btn-chapter-sel");"undefined"!=typeof o.attr("href")&&o.each(function(){t(this).attr("href",t(this).attr("href").split("#")[0]+e)})}function n(e){var i=window.heading_tabs.find("li");i.removeClass("active"),i.find("a[href$="+e+"]").closest("li").addClass("active"),t(".tab-content > .tab-pane").hide(),window.location.hash=e,t(e).show()}function r(e,i,a){window.highlight_verse=parseInt(a),findAndReplaceDOMText(e,{find:i,replace:function(e,i){var a=i.input.indexOf(window.highlight_verse),n=i.input.indexOf(window.highlight_verse+1);if(a>-1&&i.startIndex<a)return e.text;if(n>-1&&i.endIndex>n)return e.text;if(t(e.node).parent().is("a"))return t(e.node).parent().addClass("highlight"),e.text;var r=document.createElement("span");return r.className="highlight",r.innerHTML=e.text,r}})}t.ajaxSetup({headers:{"X-CSRF-Token":t('meta[name="csrf-token"]').attr("content")}});var o;o=t("body"),t(".ttip").tooltip("hide"),t(".modal-trigger").modal("hide"),t('[data-toggle="popover"]').popover(),o.on("click",function(e){t('[data-toggle="popover"]').each(function(){t(this).is(e.target)||0!==t(this).has(e.target).length||0!==t(".popover").has(e.target).length||t(this).popover("hide")})});var s={animation:!0,container:!1,delay:0,html:!0,placement:"right",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:function(){var e=t(this).html();return t("#one-col-footnote-"+e).html()},trigger:"hover focus",viewport:{selector:"body",padding:0}},l=s;l.title=function(){return t("#three-col-footnote-"+t(this).html()).html()};var h=s;h.title=function(){return t("#commentary-footnote-"+t(this).html()).html()},t("a[id*='one_col_sup_']").tooltip(s),t("a[id*='three_col_sup_']").tooltip(l),t("a[id*='commentary_sup_']").tooltip(h),t("form").submit(function(e){if((void 0==e.target.action||""==e.target.action)&&-1==location.pathname.indexOf("/contact")){e.preventDefault();var i=t(this).find("input[name=search-box]").val();void 0!=i&&i.length?window.location="/search/"+i:t(this).find("span[name=search-error]").text("Not valid!").show().fadeOut(1e3)}}),t(".heading-nav-left.disabled,.heading-nav-right.disabled").on("click",function(e){return e.preventDefault(),!1}),window.verse_number=1,t(".modal-trigger.verse-number").on("click",function(i){window.verse_number=t(i.target).html(),e(window.verse_number)}),t("#disqus-testimonials").submit(function(e){e.preventDefault();var i=t("form#disqus-testimonials"),a=i.serialize(),n=i.attr("action"),r=t("#ajax_loader"),o=t("#testimonial-page"),s=t("#nav-left-disqus"),l=t("#nav-right-disqus"),h=t("#testimonial-container");h.empty(),r.show(),s.hide(),l.hide(),o.addClass("page_is_loading");var d=t.post(n,{formData:a});d.done(function(e){e.fail&&(t.each(e.errors,function(e,i){var a="#errors";t(a).empty().append('<div class="alert alert-danger" role="alert">'+i+"</div>")}),t("#message").empty()),e.success&&(jQuery.each(e.testimonials,function(){h.append('<div class="dsq-widget-comment"><p class="dsq-comment-content">&ldquo;'+this.message+"&rdquo;&mdash;"+this.author.name+"</p>")}),t("meta[name='csrf-token']").remove(),t("head").append('<meta name="csrf-token" content="'+e.token+'">'),t("#disqus-prev-list").val(e.prevList),t("#disqus-prev").val(e.prev),t("#nav-left-disqus").disable(""!=e.prev?!1:!0),t("#disqus-next").val(e.next),t("#nav-right-disqus").disable(""!=e.next?!1:!0)),o.removeClass("page_is_loading"),r.hide(),s.show(),l.show()})}),t("#nav-left-disqus").on("click",function(e){e.preventDefault();var i=t("form#disqus-testimonials");t("#direction").val("prev"),i.submit()}),t("#nav-right-disqus").on("click",function(e){e.preventDefault();var i=t("form#disqus-testimonials");t("#direction").val("next"),i.submit()}),t("#nav-links-light-verse-right").on("click",function(t){t.preventDefault(),window.verse_number=chapter_verse_order[window.verse_index+1],e(window.verse_number)}),t("#vig1,#vig2,#vig3,#vig4,#vig5,#vig6,#highlight1,#highlight2,#highlight3,#highlight4,#highlight5,#highlight6,#highlight7").on("hidden.bs.modal",function(e){var i=e.target.id,a=t("iframe#"+i),n=a.attr("src");a.attr("src",""),a.attr("src",n),t("#"+i+" iframe").attr("src",jQuery("#"+i+" iframe").attr("src"))}),t(".modal-trigger.keyword-modal").on("click",function(e){var i=e.target,a=i.innerHTML,n=i.name,r=parseInt(i.id,10),o=t("#"+r+"_"+n+"_keyword_color").html();t("#keyword_modal_header").attr("class","modal-header "+o);var s=t("#"+r+"_"+n+"_keyword_description").html();t("#keywordModalLabel").html(a),t("#keyword_modal_paragraph").html(s)});var d=t.cookie("is_cs_toggled");void 0!=d?"true"==d&&t(".cs-top").toggle():(d="false",t.cookie("is_cs_toggled",d)),t(".hide-chapter-selection").on("click",function(e){t(".cs-top").toggle(),e.preventDefault(),d=void 0!=d?"true"==d?"false":"true":"false",t.cookie("is_cs_toggled",d)}),t(".nav-read-isaiah").find("a").on("click",function(e){window.location=t(e.currentTarget).attr("href"),e.preventDefault()}),window.isTabShown=!1,window.heading_tabs=t("#heading-tabs");var c=!1,p=location.pathname.match(/^\/([1-6][0-9]|[1-9])$/);if(void 0!=p&&null!=p){var v=parseInt(p[1]);v>0&&67>v&&(c=!0)}t("ul.nav-pills > li > a,ul.dropdown-menu > li > a[href^='#']").on("click",function(e){if(1==c){var i;void 0!=t(e.target).parent().attr("href")?i=t(e.target).parent().attr("href").substr(1):void 0!=t(e.target).attr("href")?i=t(e.target).attr("href").substr(1):alert("heading-chapters nav tab id cannot be found!"),void 0===i&&(i=t(e.target).attr("href").substr(1));var r="#"+i;n(r),a(r),window.isTabShown=!0,window.scrollTo(0,0)}else window.location=t(e.currentTarget).attr("href");e.preventDefault()}),t("#dropdown-heading-tabs > li > a").on("click",function(e){window.location=t(e.currentTarget).attr("href"),e.preventDefault()});var f=window.location.hash;if(1==c)"/"!=location.pathname&&(""!=f?(n(f),a(f)):(f="#one_col",n(f),a(f)));else if(location.pathname.indexOf("/search")>-1){var g=location.pathname.split("/")[2],u=new RegExp("%22","g").test(g),m=t(document).find("input[name=search-box]:visible").first().val().replace(/"/g,"");if(0==u)var w=m.split(" ");t("ol > li > span").each(function(){if(void 0!=this.innerHTML){var e;1==u?(e=new RegExp("\\b("+m+")\\b","ig"),this.innerHTML=this.innerHTML.replace(e,'<span class="highlight">$1</span>')):w.forEach(function(e){var t=new RegExp("("+e+")","ig");this.innerHTML=this.innerHTML.replace(t,'<span class="highlight">$1</span>')},this)}})}var _=function(e){return b()[e]},b=function(){var e,t,i,a,n,r,o,s={},l=function(e){return decodeURIComponent(e).replace(/\+/g," ")},h=window.location.search.substring(1),d=/([^&;=]+)=?([^&;]*)/g;for(n=function(e){return"object"!=typeof e&&(t=e,e={},e.length=0,t&&Array.prototype.push.call(e,t)),e};i=d.exec(h);)e=i[1].indexOf("["),o=l(i[2]),0>e?(a=l(i[1]),s[a]?(s[a]=n(s[a]),Array.prototype.push.call(s[a],o)):s[a]=o):(a=l(i[1].slice(0,e)),r=l(i[1].slice(e+1,i[1].indexOf("]",e))),s[a]=n(s[a]),r?s[a][r]=o:Array.prototype.push.call(s[a],o));return s},x=_("citation");if(void 0!=x){var y=t('a[href*="'+x+'"]');void 0!=y&&(-1==location.pathname.indexOf("/concordance")?(citationSpan=y.parent().closest(".poetry,.prose,.prose inline"),y.addClass("highlight")):(citationSpan=y.parent(),void 0!=citationSpan&&citationSpan.addClass("highlight")),is_citation=!0)}var k=_("reference");if(void 0!=k){var T=k,D=/^(\d{1,3})/,q=parseInt(D.exec(T));if(q>0){if(void 0==f||""==f){var I=t("#verse_"+q);iitDiv=I}else if("#three_col"==f){var I=t("#iit_"+q);iitDiv=I.next()}is_searched=!0}}else{var C,S=_("verse"),j=_("search");if(void 0!=S&&void 0!=j){C=S;var $=j,I=t("#iit_search_"+C);if(iitDiv=I.next(),-1==location.pathname.indexOf("/concordance")&&"#one_col"==f){var O,E=new RegExp('"',"g").test($);if(1==E)$=$.replace(/"/g,""),O=new RegExp("\\b"+$+"\\b","gi");else{for(var L="",M=$.split(" "),R=M.length,H=0;R>H;H++)L+=H+1!=R?M[H]+"|":M[H];O=new RegExp(L,"gi")}var A=I.next().attr("class");"poetry"==A||"prose"==A||"prose inline"==A?r(I.next()[0],O,C):"modal-trigger verse-number"==A?r(I.closest("span[class=poetry]")[0],O,C):alert("Next class isnt the verse modal link. It is: "+A),is_searched=!0}}}t(window).scroll(function(){t(window).scrollTop()>=105?t(".heading").addClass("fixed"):t(".heading").removeClass("fixed")}),t.fn.outerHTML=function(e){return e?this.before(e).remove():jQuery("<p>").append(this.eq(0).clone()).html()},t.fn.extend({disable:function(e){return this.each(function(){var i=t(this);i.toggleClass("disabled",e)})}})})}(this,jQuery,Backbone);
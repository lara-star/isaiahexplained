function findBootstrapEnvironment(){var e=["xs","sm","md","lg"];var t=$("<div>");t.appendTo($("body"));for(var n=e.length-1;n>=0;n--){var r=e[n];t.addClass("hidden-"+r);if(t.is(":hidden")){t.remove();return r}}}(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){e(require("jquery"))}else{e(jQuery)}})(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){if(e.indexOf('"')===0){e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{e=decodeURIComponent(e.replace(t," "));return u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g;var u=e.cookie=function(t,s,a){if(s!==undefined&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires==="number"){var f=a.expires,l=a.expires=new Date;l.setTime(+l+f*864e5)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{};var h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("=");var m=r(v.shift());var g=v.join("=");if(t&&t===m){c=o(g,s);break}if(!t&&(g=o(g))!==undefined){c[m]=g}}return c};u.defaults={};e.removeCookie=function(t,n){if(e.cookie(t)===undefined){return false}e.cookie(t,"",e.extend({},n,{expires:-1}));return!e.cookie(t)}});window.findAndReplaceDOMText=function(){function i(e){return r.call(e)=="[object Array]"}function s(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(){return u.apply(null,arguments)||a.apply(null,arguments)}function u(e,t,n,r,i){if(t&&!t.nodeType&&arguments.length<=2){return false}var s=typeof n=="function";if(s){n=function(e){return function(t,n){return e(t.text,n.startIndex)}}(n)}var u=a(t,{find:e,wrap:s?null:n,replace:s?n:"$"+(r||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(r>0){var n=e[r];e.index+=e[0].indexOf(n);e[0]=n}e.endIndex=e.index+e[0].length;e.startIndex=e.index;e.index=t;return e},filterElements:i});o.revert=function(){return u.revert()};return true}function a(e,t){return new f(e,t)}function f(t,n){n.portionMode=n.portionMode||e;this.node=t;this.options=n;this.prepMatch=n.prepMatch||this.prepMatch;this.reverts=[];this.matches=this.search();if(this.matches.length){this.processMatches()}}var e="retain";var t="first";var n=document;var r={}.toString;o.Finder=f;f.prototype={search:function(){var e;var t=0;var n=this.options.find;var r=this.getAggregateText();var i=[];n=typeof n==="string"?RegExp(s(n),"g"):n;if(n.global){while(e=n.exec(r)){i.push(this.prepMatch(e,t++))}}else{if(e=r.match(n)){i.push(this.prepMatch(e,0))}}return i},prepMatch:function(e,t){if(!e[0]){throw new Error("findAndReplaceDOMText cannot handle zero-length matches")}e.endIndex=e.index+e[0].length;e.startIndex=e.index;e.index=t;return e},getAggregateText:function(){function t(n){if(n.nodeType===3){return n.data}if(e&&!e(n)){return""}var r="";if(n=n.firstChild)do{r+=t(n)}while(n=n.nextSibling);return r}var e=this.options.filterElements;return t(this.node)},processMatches:function(){var e=this.matches;var t=this.node;var n=this.options.filterElements;var r,i,s=[],o=t,u=e.shift(),a=0,f=0,l=0,c,h=[t];e:while(true){if(o.nodeType===3){if(!i&&o.length+a>=u.endIndex){i={node:o,index:l++,text:o.data.substring(u.startIndex-a,u.endIndex-a),indexInMatch:a-u.startIndex,indexInNode:u.startIndex-a,endIndexInNode:u.endIndex-a,isEnd:true}}else if(r){s.push({node:o,index:l++,text:o.data,indexInMatch:a-u.startIndex,indexInNode:0})}if(!r&&o.length+a>u.startIndex){r={node:o,index:l++,indexInMatch:0,indexInNode:u.startIndex-a,endIndexInNode:u.endIndex-a,text:o.data.substring(u.startIndex-a,u.endIndex-a)}}a+=o.data.length}c=o.nodeType===1&&n&&!n(o);if(r&&i){o=this.replaceMatch(u,r,s,i);a-=i.node.data.length-i.endIndexInNode;r=null;i=null;s=[];u=e.shift();l=0;f++;if(!u){break}}else if(!c&&(o.firstChild||o.nextSibling)){if(o.firstChild){h.push(o);o=o.firstChild}else{o=o.nextSibling}continue}while(true){if(o.nextSibling){o=o.nextSibling;break}o=h.pop();if(o===t){break e}}}},revert:function(){for(var e=this.reverts.length;e--;){this.reverts[e]()}this.reverts=[]},prepareReplacementString:function(e,n,r,i){var s=this.options.portionMode;if(s===t&&n.indexInMatch>0){return""}e=e.replace(/\$(\d+|&|`|')/g,function(e,t){var n;switch(t){case"&":n=r[0];break;case"`":n=r.input.substring(0,r.startIndex);break;case"'":n=r.input.substring(r.endIndex);break;default:n=r[+t]}return n});if(s===t){return e}if(n.isEnd){return e.substring(n.indexInMatch)}return e.substring(n.indexInMatch,n.indexInMatch+n.text.length)},getPortionReplacementNode:function(e,t,r){var i=this.options.replace||"$&";var s=this.options.wrap;if(s&&s.nodeType){var o=n.createElement("div");o.innerHTML=s.outerHTML||(new XMLSerializer).serializeToString(s);s=o.firstChild}if(typeof i=="function"){i=i(e,t,r);if(i&&i.nodeType){return i}return n.createTextNode(String(i))}var u=typeof s=="string"?n.createElement(s):s;i=n.createTextNode(this.prepareReplacementString(i,e,t,r));if(!i.data){return i}if(!u){return i}u.appendChild(i);return u},replaceMatch:function(e,t,r,i){var s=t.node;var o=i.node;var u;var a;if(s===o){var f=s;if(t.indexInNode>0){u=n.createTextNode(f.data.substring(0,t.indexInNode));f.parentNode.insertBefore(u,f)}var l=this.getPortionReplacementNode(i,e);f.parentNode.insertBefore(l,f);if(i.endIndexInNode<f.length){a=n.createTextNode(f.data.substring(i.endIndexInNode));f.parentNode.insertBefore(a,f)}f.parentNode.removeChild(f);this.reverts.push(function(){if(u===l.previousSibling){u.parentNode.removeChild(u)}if(a===l.nextSibling){a.parentNode.removeChild(a)}l.parentNode.replaceChild(f,l)});return l}else{u=n.createTextNode(s.data.substring(0,t.indexInNode));a=n.createTextNode(o.data.substring(i.endIndexInNode));var c=this.getPortionReplacementNode(t,e);var h=[];for(var p=0,d=r.length;p<d;++p){var v=r[p];var m=this.getPortionReplacementNode(v,e);v.node.parentNode.replaceChild(m,v.node);this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(v,m));h.push(m)}var g=this.getPortionReplacementNode(i,e);s.parentNode.insertBefore(u,s);s.parentNode.insertBefore(c,s);s.parentNode.removeChild(s);o.parentNode.insertBefore(g,o);o.parentNode.insertBefore(a,o);o.parentNode.removeChild(o);this.reverts.push(function(){u.parentNode.removeChild(u);c.parentNode.replaceChild(s,c);a.parentNode.removeChild(a);g.parentNode.replaceChild(o,g)});return g}}};return o}();var is_citation=false;var is_searched=false;var citationSpan;var iitDiv;if(location.hash||location.pathname.match(/\/\d{1,2}/)){window.scrollTo(0,0);setTimeout(function(){if(is_citation===false&&is_searched==false){window.scrollTo(0,0)}else{var e=findBootstrapEnvironment();var t;if(e=="xs"){t=$(".header-container").first().height()}else{t=0}if(is_citation===true){$(window).scrollTop(citationSpan.offset().top-t)}else if(is_searched===true){$(window).scrollTop(iitDiv.offset().top-t)}}},1)}(function(e,t){t(function(){function s(e){var n=t("#chapter-number").html();var r=t("#iit_"+e).html();var i=t("#heb_"+e).html();var s=t(".commentary_"+e).html();var u=t("#kjv_"+e).html();if(n==40&&e==41.7){r='<p><span class="poetry"><span><sup>c</sup> The artisan encourages the smith,<span class="indent">and he who beats with a hammer</span><span class="indent"><i>urges</i> him who pounds the anvil.</span>They say of the welding, It is good,<span class="indent">though they fasten it with riveting </span><span class="indent">that it may not come loose.</span></span></span></p>';i="וַיְחַזֵּק חָרָשׁ אֶת־צֹרֵף מַחֲלִיק פַּטִּישׁ אֶת־הוֹלֶם פָּעַם אֹמֵר לַדֶּבֶק טוֹב הוּא וַיְחַזְּקֵהוּ בְמַסְמְרִים לֹא יִמּוֹט ׃";s="<p>(40:18–19; 41:7*; 40:20) Almost the first thing the nations do on the earth is to corrupt themselves, diverting their attention from the true God to images and idols. Isaiah’s satire on idolaters in this passage shows the futility of creating substitutes for humanity’s Creator. As these false gods are the antithesis of the true God, they are the main reason people become spiritually blind and lose understanding of him (Isaiah 27:9–11; 44:9–20). Such gods can’t save them in Jehovah’s Day of Judgment (Isaiah 45:20; 46:1–8). If the nations themselves are but chaos (vv 15–17), then how much more so the images and idols they invent?</p>";u="So the carpenter encouraged the goldsmith, and he that smootheth with the hammer him that smote the anvil, saying, It is ready for the sodering: and he fastened it with nails, that it should not be moved."}else if(n==41&&e==7){s="<p>See: 40:19 Verse appears out of sequence in text.</p>"}else{r=r.replace(/<a\b[^>]*>(\w+)<\/a>/ig,"$1");r=r.replace(/<a\b[^>]*>(\D)<\/a>\s?/ig,"$1");r=r.replace(/<a\b[^>]*>\d{1,2}<\/a>\s?/ig,"");r=r.replace(/<div class="spacer"><\/div>/ig,'<span class="spacer"></span>');r=r.replace(/<div class="prose-spacer"><\/div>/ig,'<span class="prose-spacer"></span>');r="<p>"+r+"</p>"}t("#kjv-modal-verse").html(u);t("#iit-modal-verse").html(r);t("#heb-modal-verse").html(i);var a=t("#commentary-modal-verse");a.html(s);var f=a.children("div").html();a.children().next("p").first().prepend(f+" ");var l="";if(n==40&&e==41.7){l="Isaiah "+e}else{l="Isaiah "+n+":"+e}t("#verse-modal-label").html(l);o(parseFloat(e))}function o(e){window.chapter_verse_order=t("#chapter-verse-order").text().split(",");window.verse_index=chapter_verse_order.indexOf(e.toString());var n=t("#nav-links-light-verse-left");var r=e-1;if(r>=chapter_verse_order[0]){n.disable(false)}else{n.disable(true)}var i=t("#nav-links-light-verse-right");if(verse_index!=chapter_verse_order.length-1){i.disable(false)}else{i.disable(true)}}function p(e){var n=t("#nav-left-top.fa-angle-left");if(typeof n.attr("href")!="undefined"){n.attr("href",n.attr("href").split("#")[0]+e)}var r=t("#nav-left-bottom.fa-angle-left");if(typeof r.attr("href")!="undefined"){r.attr("href",r.attr("href").split("#")[0]+e)}var i=t("#nav-right-top.fa-angle-right");if(typeof i.attr("href")!="undefined"){i.attr("href",i.attr("href").split("#")[0]+e)}var s=t("#nav-right-bottom.fa-angle-right");if(typeof s.attr("href")!="undefined"){s.attr("href",i.attr("href").split("#")[0]+e)}var o=t(".btn-chapter-sel");if(typeof o.attr("href")!="undefined"){o.each(function(){t(this).attr("href",t(this).attr("href").split("#")[0]+e)})}}function d(e){var n=window.heading_tabs.find("li");n.removeClass("active");n.find("a[href$="+e+"]").closest("li").addClass("active");t(".tab-content > .tab-pane").hide();window.location.hash=e;t(e).show()}function M(e,n,r){window.highlight_verse=parseInt(r);findAndReplaceDOMText(e,{find:n,replace:function(e,n){var r=n.input.indexOf(window.highlight_verse);var i=n.input.indexOf(window.highlight_verse+1);if(r>-1&&n.startIndex<r){return e.text}else if(i>-1&&n.endIndex>i){return e.text}else{if(t(e.node).parent().is("a")){t(e.node).parent().addClass("highlight");return e.text}else{var s=document.createElement("span");s.className="highlight";s.innerHTML=e.text}return s}}})}var e;e=t("body");t(".ttip").tooltip("hide");t(".modal-trigger").modal("hide");t('[data-toggle="popover"]').popover();e.on("click",function(e){t('[data-toggle="popover"]').each(function(){if(!t(this).is(e.target)&&t(this).has(e.target).length===0&&t(".popover").has(e.target).length===0){t(this).popover("hide")}})});var n={animation:true,container:false,delay:0,html:true,placement:"right",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:function(){var e=t(this).html();return t("#one-col-footnote-"+e).html()},trigger:"hover focus",viewport:{selector:"body",padding:0}};var r=n;r.title=function(){return t("#three-col-footnote-"+t(this).html()).html()};var i=n;i.title=function(){return t("#commentary-footnote-"+t(this).html()).html()};t("a[id*='one_col_sup_']").tooltip(n);t("a[id*='three_col_sup_']").tooltip(r);t("a[id*='commentary_sup_']").tooltip(i);t("form").submit(function(e){e.preventDefault();var n=t(this).find("input[name=search-box]").val();if(n.length){window.location="/search/"+n}else{t(this).find("span[name=search-error]").text("Not valid!").show().fadeOut(1e3)}});t(".heading-nav-left.disabled,.heading-nav-right.disabled").on("click",function(e){e.preventDefault();return false});window.verse_number=1;t(".modal-trigger.verse-number").on("click",function(e){window.verse_number=t(e.target).html();s(window.verse_number)});t("#nav-links-light-verse-left").on("click",function(e){e.preventDefault();window.verse_number=chapter_verse_order[window.verse_index-1];s(window.verse_number)});t("#nav-links-light-verse-right").on("click",function(e){e.preventDefault();window.verse_number=chapter_verse_order[window.verse_index+1];s(window.verse_number)});t(".modal-trigger.keyword-modal").on("click",function(e){var n=e.target;var r=n.innerHTML;var i=n.name;var s=parseInt(n.id,10);var o=t("#"+s+"_"+i+"_keyword_color").html();t("#keyword_modal_header").attr("class","modal-header "+o);var u=t("#"+s+"_"+i+"_keyword_description").html();t("#keywordModalLabel").html(r);t("#keyword_modal_paragraph").html(u)});var u=t.cookie("is_cs_toggled");if(u!=undefined){if(u=="true"){t(".cs-top").toggle()}}else{u="false";t.cookie("is_cs_toggled",u)}t(".hide-chapter-selection").on("click",function(e){t(".cs-top").toggle();e.preventDefault();if(u!=undefined){if(u=="true"){u="false"}else{u="true"}}else{u="false"}t.cookie("is_cs_toggled",u)});t(".nav-read-isaiah").find("a").on("click",function(e){window.location=t(e.currentTarget).attr("href");e.preventDefault()});window.isTabShown=false;window.heading_tabs=t("#heading-tabs");t("ul.nav-pills > li > a,ul.dropdown-menu > li > a[href^='#']").on("click",function(e){if(location.pathname!="/"){var n;if(t(e.target).parent().attr("href")!=undefined){n=t(e.target).parent().attr("href").substr(1)}else{if(t(e.target).attr("href")!=undefined){n=t(e.target).attr("href").substr(1)}else{alert("heading-chapters nav tab id cannot be found!")}}if(n===undefined){n=t(e.target).attr("href").substr(1)}var r="#"+n;d(r);p(r);window.isTabShown=true;window.scrollTo(0,0)}else{window.location=t(e.currentTarget).attr("href")}e.preventDefault()});var a=window.location.hash;if(location.pathname.indexOf("/concordance")==-1&&location.pathname.indexOf("/search")==-1&&location.pathname.indexOf("/resources")==-1){if(location.pathname!="/"){if(a!=""){d(a);p(a)}else{a="#one_col";d(a);p(a)}}else{}}else if(location.pathname.indexOf("/search")>-1){var f=location.pathname.split("/")[2];var l=(new RegExp("%22","g")).test(f);var c=t(document).find("input[name=search-box]").val().replace(/"/g,"");if(l==false){var h=c.split(" ")}t("ol > li > span").each(function(){if(this.innerHTML!=undefined){var e;if(l==true){e=new RegExp("\\b("+c+")\\b","ig");this.innerHTML=this.innerHTML.replace(e,'<span class="highlight">$1</span>')}else{h.forEach(function(e,t){var n=new RegExp("("+e+")","ig");this.innerHTML=this.innerHTML.replace(n,'<span class="highlight">$1</span>')},this)}}})}var v=function(e){return m()[e]};var m=function(){var e,t,n,r,i,s,o,u={},a=function(e){return decodeURIComponent(e).replace(/\+/g," ")},f=window.location.search.substring(1),l=/([^&;=]+)=?([^&;]*)/g;i=function(e){if(typeof e!="object"){t=e;e={};e.length=0;if(t){Array.prototype.push.call(e,t)}}return e};while(n=l.exec(f)){e=n[1].indexOf("[");o=a(n[2]);if(e<0){r=a(n[1]);if(u[r]){u[r]=i(u[r]);Array.prototype.push.call(u[r],o)}else{u[r]=o}}else{r=a(n[1].slice(0,e));s=a(n[1].slice(e+1,n[1].indexOf("]",e)));u[r]=i(u[r]);if(s){u[r][s]=o}else{Array.prototype.push.call(u[r],o)}}}return u};var g=v("citation");if(g!=undefined){var y=t('a[href*="'+g+'"]');if(y!=undefined){if(location.pathname.indexOf("/concordance")==-1){citationSpan=y.parent().closest(".poetry,.prose,.prose inline");y.addClass("highlight")}else{citationSpan=y.parent();if(citationSpan!=undefined){citationSpan.addClass("highlight")}}is_citation=true}}var b=v("verse");var w=v("search");if(b!=undefined&&w!=undefined){var E=b;var S=t(document).find("input[name=search-box]").first().val();var x=t("#iit_search_"+E);iitDiv=x.next();if(location.pathname.indexOf("/concordance")==-1){if(a=="#one_col"){var T=(new RegExp('"',"g")).test(S);var N;if(T==true){S=S.replace(/"/g,"");N=new RegExp("\\b"+S+"\\b","gi")}else{var C="";var k=S.split(" ");var L=k.length;for(var A=0;A<L;A++){if(A+1!=L){C+=k[A]+"|"}else{C+=k[A]}}N=new RegExp(C,"gi")}var O=x.next().attr("class");if(O=="poetry"||O=="prose"||O=="prose inline"){M(x.next()[0],N,E)}else{if(O=="modal-trigger verse-number"){M(x.closest("span[class=poetry]")[0],N,E)}else{alert("Next class isnt the verse modal link. It is: "+O)}}t(window).scrollTop(iitDiv.offset().top);is_searched=true}}}t.fn.outerHTML=function(e){return e?this.before(e).remove():jQuery("<p>").append(this.eq(0).clone()).html()};t.fn.extend({disable:function(e){return this.each(function(){var n=t(this);n.toggleClass("disabled",e)})}})})})(this,jQuery,Backbone)